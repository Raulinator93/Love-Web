<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Rezept-Details ğŸ’•</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="â¤ï¸.ico" type="image/x-icon">
</head>
<body>

  <!-- Navigation -->
  <nav>
    <ul>
      <li><a href="index.html">Start</a></li>
      <li><a href="RezeptOfTheDay.html">Rezept des Tages</a></li>
      <li><a href="playlist.html">Unsere Playlist</a></li>
    </ul>
  </nav>

  <!-- Hauptinhalt -->
  <main class="detail-wrapper">
    <h1>ğŸ‘©â€ğŸ³ Rezept-Anleitung</h1>
    <p>Schritt fÃ¼r Schritt mit Liebe gekocht ğŸ’—</p>

    <section>
      <div id="rezept-detail" class="rezept-detail">
        <p>Lade Rezeptdetails ...</p>
      </div>
    </section>

    <div id="rezept-buttons" class="rezept-buttons">
      <button id="editRezept">âœï¸ Ã„ndern</button>
      <button id="deleteRezept">ğŸ—‘ï¸ LÃ¶schen</button>
    </div>
    
    <p class="back-link"><a href="RezeptCollection.html">â† ZurÃ¼ck zur Ãœbersicht</a></p>
  </main>

  <footer>Mit ganz viel Liebe gekocht ğŸ’Œ</footer>

  <script type="module" src="Rezept.js"></script>
  <script type="module">
    import { renderRezept, deleteRezept } from './Rezept.js';
    const url = new URL(window.location.href);
    const id = url.searchParams.get('id');  
    renderRezept(id);

    document.getElementById("deleteRezept").onclick = async () => {
      if (confirm("MÃ¶chtest du dieses Rezept wirklich lÃ¶schen?")) {
        //await db.collection("Rezepte").doc(id).delete();
        console.log("LÃ¶schen gestartet");
        await deleteRezept(id);
        alert("Rezept gelÃ¶scht.");
        console.log("Rezept gelÃ¶scht:", id);
        window.location.href = "RezeptCollection.html";
      }
    };

    document.getElementById("editRezept").onclick = () => {
      // Beispiel: Weiterleiten zu Bearbeiten-Seite oder ein Pop-up Ã¶ffnen
      window.location.href = `editRezept.html?id=${id}`;
    };
  </script>
</body>
</html>
