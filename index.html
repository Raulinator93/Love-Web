<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FÃ¼r meine Liebe ğŸ’–</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <ul>
      <li><a href="#start">Start</a></li>
      <li><a href="RezeptOfTheDay.html">Rezept of the Day</a></li>
      <li><a href="playlist.html">Unsere Playlist</a></li>
    </ul>
  </nav>
  <h1>ğŸ’– FÃ¼r Dich </h1>
  <h2>Wir sind schon <span id="Beziehungs-Dauer">...</span></h2>

  <button id="music-btn" onclick="toggleMusic()">ğŸ’•Love ButtonğŸ’•</button>

  <div class="image-box">
    <img id="daily-image" src="" alt="Liebesbild des Tages">
    <div class="quote" id="daily-quote">Lade Liebe ...</div>
  </div>

  <footer>Mit ganz viel Liebe ğŸ’Œ</footer>

  <audio id="bg-list" loop src="">
    Dein Browser unterstÃ¼tzt kein Audio.
  </audio>

  <script>
    // ğŸ’• Beziehungsdauer berechnen
    function berechneBeziehungsdauer(startDatum) {
      const heute = new Date();
      let jahre = heute.getFullYear() - startDatum.getFullYear();
      let monate = heute.getMonth() - startDatum.getMonth();
      let tage = heute.getDate() - startDatum.getDate();

      if (tage < 0) {
        monate -= 1;
        const letzterMonat = new Date(heute.getFullYear(), heute.getMonth(), 0);
        tage += letzterMonat.getDate();
      }

      if (monate < 0) {
        jahre -= 1;
        monate += 12;
      }

      return { jahre, monate, tage };
    }

    const startDate = new Date("2024-08-09"); // ğŸ’– Euer Beziehungsstart
    const dauer = berechneBeziehungsdauer(startDate);
    const heute = new Date();
    const dayNumber = Math.floor((heute - startDate) / (1000 * 60 * 60 * 24)) + 1;

    const dauerText = `${dauer.jahre} Jahr${dauer.jahre !== 1 ? 'e' : ''}, ` +
                      `${dauer.monate} Monat${dauer.monate !== 1 ? 'e' : ''} und ` +
                      `${dauer.tage} Tag${dauer.tage !== 1 ? 'e' : ''}`;

    document.getElementById("Beziehungs-Dauer").textContent = dauerText;

    // ğŸ“¦ Daten aus Data.json laden
    let images = [];
    let quotes = [];
    let musiclist = [];

    fetch('Data.json')
      .then(response => response.json())
      .then(data => {
      images = data.images || [];
      quotes = data.quotes || [];
      musiclist = data.musiclist || [];

      // â³ TagesabhÃ¤ngige Auswahl (muss nach dem Laden erfolgen)
      const image = images[(dayNumber - 1) % images.length];
      const quote = quotes[(dayNumber - 1) % quotes.length];
      const music_selection = musiclist[(dayNumber - 1) % musiclist.length];

      // ğŸŒ¸ Inhalte einfÃ¼gen
      document.getElementById("daily-image").src = image;
      document.getElementById("daily-quote").textContent = quote;
      document.getElementById("bg-list").src = music_selection;
      })
      .catch(err => {
      document.getElementById("daily-quote").textContent = "Fehler beim Laden der Daten.";
      });
      
    // ğŸ”Š Musiksteuerung
    const audio = document.getElementById("bg-list");
    const btn = document.getElementById("music-btn");
    let isPlaying = false;

    function toggleMusic() {
      if (!isPlaying) {
        audio.play().then(() => {
          isPlaying = true;
          btn.textContent = "â¸ï¸ Musik pausieren";
        }).catch(err => {
          alert("Musik konnte nicht gestartet werden: " + err);
        });
      } else {
        audio.pause();
        isPlaying = false;
        btn.textContent = "ğŸ’•Love ButtonğŸ’•";
      }
    }
  </script>
</body>
</html>
